[pytest]
# Dossiers à tester
testpaths = tests

# Pattern des fichiers de test
python_files = test_*.py

# Pattern des classes de test
python_classes = Test*

# Pattern des fonctions de test
python_functions = test_*

# Options par défaut
addopts =
    -v                              # Verbose
    --strict-markers                # Markers stricts
    --tb=short                      # Traceback court
    --cov=src                       # Couverture du dossier src/
    --cov-report=html               # Rapport HTML
    --cov-report=term-missing       # Affiche les lignes manquantes
    --cov-fail-under=60             # Fail si couverture < 60%

# Markers personnalisés
markers =
    unit: Tests unitaires simples
    integration: Tests d'intégration
    slow: Tests lents (>1s)
    data: Tests nécessitant des données
    model: Tests nécessitant les modèles ML

# Ignore des warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning